
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A comprehensive resource for Java developers covering core concepts to advanced microservices architecture">
      
      
        <meta name="author" content="Muhammed Shemeel">
      
      
        <link rel="canonical" href="https://mshemeel.github.io/java-learning/spring-boot/spring-data-mongo/">
      
      
        <link rel="prev" href="../spring-data-jpa/">
      
      
        <link rel="next" href="../spring-kafka-integration/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.6">
    
    
      
        <title>Spring Data MongoDB - Java Learning Platform</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.35e1ed30.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.356b1318.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="blue">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#spring-data-mongodb" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Java Learning Platform" class="md-header__button md-logo" aria-label="Java Learning Platform" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Java Learning Platform
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Spring Data MongoDB
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/mshemeel/java-learning" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    mshemeel/java-learning
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../java/java-basics/" class="md-tabs__link">
          
  
    
  
  Java Core

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../java-sample-problems/" class="md-tabs__link">
          
  
    
  
  Java Sample Problems

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../spring-boot-core-concepts/" class="md-tabs__link">
          
  
    
  
  Spring Boot

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../microservices/microservices-basics/" class="md-tabs__link">
          
  
    
  
  Microservices

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../kubernetes/kubernetes-basics/" class="md-tabs__link">
          
  
    
  
  Kubernetes

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../design-patterns/design-patterns-principles/" class="md-tabs__link">
          
  
    
  
  Design Patterns

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../deployment-guide/" class="md-tabs__link">
          
  
    
  
  Reference

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../feedback/" class="md-tabs__link">
          
  
    
  
  About

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Java Learning Platform" class="md-nav__button md-logo" aria-label="Java Learning Platform" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Java Learning Platform
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/mshemeel/java-learning" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    mshemeel/java-learning
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Java Core
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Java Core
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../java/java-basics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Basics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../java/java-oop/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OOP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../java/java-collections/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Collections
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../java/java-exceptions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exceptions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../java/java-exception-handling/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exception Handling
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../java/java-multithreading/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Multithreading
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../java/java-concurrency/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Concurrency
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../java/java-io/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    I/O
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../java/java-streams-lambdas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Streams & Lambdas
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../java/java-generics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Generics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../java/java-memory-management/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Memory Management
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../java/java-testing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Testing
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../java-sample-problems/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Java Sample Problems
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Java Sample Problems
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../java-sample-problems/basic-problems/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Basic Problems
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Arrays and Strings
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Arrays and Strings
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../java-sample-problems/arrays-and-strings/TwoSum/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Two Sum
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../java-sample-problems/arrays-and-strings/ThreeSum/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Three Sum
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../java-sample-problems/arrays-and-strings/Anagrams/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Anagrams
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../java-sample-problems/arrays-and-strings/BinarySearch/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Binary Search
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../java-sample-problems/arrays-and-strings/StringPalindrome/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    String Palindrome
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Linked List
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            Linked List
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../java-sample-problems/linked-list/LinkedListOperations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Linked List Operations
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_5" >
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Sorting
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            Sorting
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../java-sample-problems/sorting/SortingAlgorithms/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sorting Algorithms
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_6" >
        
          
          <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Trees
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            Trees
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../java-sample-problems/trees/TreeTraversal/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tree Traversal
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_7" >
        
          
          <label class="md-nav__link" for="__nav_3_7" id="__nav_3_7_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Graphs
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_7">
            <span class="md-nav__icon md-icon"></span>
            Graphs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../java-sample-problems/graphs/GraphAlgorithms/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Graph Algorithms
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_8" >
        
          
          <label class="md-nav__link" for="__nav_3_8" id="__nav_3_8_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Dynamic Programming
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_8">
            <span class="md-nav__icon md-icon"></span>
            Dynamic Programming
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../java-sample-problems/dynamic-programming/DynamicProgramming/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dynamic Programming Problems
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../java-sample-problems/data-structures.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data Structures
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../java-sample-problems/algorithms.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Algorithms
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../java-sample-problems/oop-problems.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OOP Problems
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../java-sample-problems/design-patterns-problems.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Design Patterns
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../java-sample-problems/spring-boot-problems.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Spring Boot
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../java-sample-problems/microservices-problems.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Microservices
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Spring Boot
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Spring Boot
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../spring-boot-core-concepts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Core Concepts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../spring-boot-starter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Starter
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../spring-boot-rest-api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    REST API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../spring-boot-data-access/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data Access
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../spring-boot-security/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Security
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../spring-boot-testing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Testing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../spring-boot-actuator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Actuator
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../spring-boot-deployment/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deployment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../spring-boot-aop/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AOP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../spring-boot-configuration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../spring-data-jpa/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Spring Data JPA
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Spring Data MongoDB
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Spring Data MongoDB
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#learning-objectives" class="md-nav__link">
    Learning Objectives
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#table-of-contents" class="md-nav__link">
    Table of Contents
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduction-to-spring-data-mongodb" class="md-nav__link">
    Introduction to Spring Data MongoDB
  </a>
  
    <nav class="md-nav" aria-label="Introduction to Spring Data MongoDB">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what-is-spring-data-mongodb" class="md-nav__link">
    What is Spring Data MongoDB?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#key-benefits-of-spring-data-mongodb" class="md-nav__link">
    Key Benefits of Spring Data MongoDB
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setting-up-spring-data-mongodb" class="md-nav__link">
    Setting Up Spring Data MongoDB
  </a>
  
    <nav class="md-nav" aria-label="Setting Up Spring Data MongoDB">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#maven-dependencies" class="md-nav__link">
    Maven Dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#basic-configuration" class="md-nav__link">
    Basic Configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mongodb-uri-configuration" class="md-nav__link">
    MongoDB URI Configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-mongodb-configuration" class="md-nav__link">
    Custom MongoDB Configuration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#document-mapping" class="md-nav__link">
    Document Mapping
  </a>
  
    <nav class="md-nav" aria-label="Document Mapping">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-document-class" class="md-nav__link">
    Basic Document Class
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#document-annotations" class="md-nav__link">
    Document Annotations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#embedded-documents" class="md-nav__link">
    Embedded Documents
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#document-references" class="md-nav__link">
    Document References
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#customizing-mapping" class="md-nav__link">
    Customizing Mapping
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mongodb-repositories" class="md-nav__link">
    MongoDB Repositories
  </a>
  
    <nav class="md-nav" aria-label="MongoDB Repositories">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-repository" class="md-nav__link">
    Basic Repository
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-the-repository" class="md-nav__link">
    Using the Repository
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#query-methods" class="md-nav__link">
    Query Methods
  </a>
  
    <nav class="md-nav" aria-label="Query Methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#method-name-syntax" class="md-nav__link">
    Method Name Syntax
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-queries" class="md-nav__link">
    Custom Queries
  </a>
  
    <nav class="md-nav" aria-label="Custom Queries">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-mongodb-queries" class="md-nav__link">
    Basic MongoDB Queries
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-field-projection" class="md-nav__link">
    Using Field Projection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-sort-and-limit" class="md-nav__link">
    Using Sort and Limit
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mongodb-template" class="md-nav__link">
    MongoDB Template
  </a>
  
    <nav class="md-nav" aria-label="MongoDB Template">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-mongotemplate-usage" class="md-nav__link">
    Basic MongoTemplate Usage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#complex-queries-with-criteria" class="md-nav__link">
    Complex Queries with Criteria
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aggregation-framework" class="md-nav__link">
    Aggregation Framework
  </a>
  
    <nav class="md-nav" aria-label="Aggregation Framework">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-aggregation" class="md-nav__link">
    Basic Aggregation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#advanced-aggregation" class="md-nav__link">
    Advanced Aggregation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#indexing" class="md-nav__link">
    Indexing
  </a>
  
    <nav class="md-nav" aria-label="Indexing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#indexing-with-annotations" class="md-nav__link">
    Indexing with Annotations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-indexes-programmatically" class="md-nav__link">
    Creating Indexes Programmatically
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#geospatial-queries" class="md-nav__link">
    Geospatial Queries
  </a>
  
    <nav class="md-nav" aria-label="Geospatial Queries">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#geospatial-document" class="md-nav__link">
    Geospatial Document
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geospatial-repositories" class="md-nav__link">
    Geospatial Repositories
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geospatial-mongotemplate-queries" class="md-nav__link">
    Geospatial MongoTemplate Queries
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gridfs-for-large-files" class="md-nav__link">
    GridFS for Large Files
  </a>
  
    <nav class="md-nav" aria-label="GridFS for Large Files">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gridfs-operations" class="md-nav__link">
    GridFS Operations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-gridfs-in-a-controller" class="md-nav__link">
    Using GridFS in a Controller
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#change-streams" class="md-nav__link">
    Change Streams
  </a>
  
    <nav class="md-nav" aria-label="Change Streams">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#simple-change-stream-example" class="md-nav__link">
    Simple Change Stream Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transactions" class="md-nav__link">
    Transactions
  </a>
  
    <nav class="md-nav" aria-label="Transactions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#transaction-example" class="md-nav__link">
    Transaction Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testing-spring-data-mongodb" class="md-nav__link">
    Testing Spring Data MongoDB
  </a>
  
    <nav class="md-nav" aria-label="Testing Spring Data MongoDB">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#maven-dependencies_1" class="md-nav__link">
    Maven Dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#repository-test" class="md-nav__link">
    Repository Test
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mongotemplate-test" class="md-nav__link">
    MongoTemplate Test
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-with-testcontainers" class="md-nav__link">
    Test with TestContainers
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../spring-kafka-integration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kafka Integration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../spring-ai/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Spring AI
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../spring-boot-best-practices/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Best Practices
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Microservices
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Microservices
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../microservices/microservices-basics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Basics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../microservices/microservices-communication/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Communication
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../microservices/microservices-discovery/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Service Discovery
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../microservices/microservices-resilience/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Resilience
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../microservices/microservices-api-gateway/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API Gateway
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../microservices/microservices-security/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Security
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../microservices/microservices-monitoring/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Monitoring
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../microservices/microservices-deployment/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deployment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../microservices/microservices-testing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Testing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../microservices/microservices-best-practices/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Best Practices
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../microservices/saga-pattern/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Saga Pattern
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../microservices/cqrs-pattern/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CQRS Pattern
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../microservices/platform-architecture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Platform Architecture
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Kubernetes
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Kubernetes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../kubernetes/kubernetes-basics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Basics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../kubernetes/kubernetes-deployment/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deployment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../kubernetes/kubernetes-services/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Services
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../kubernetes/kubernetes-config-secrets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Config & Secrets
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../kubernetes/kubernetes-storage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Storage
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../kubernetes/kubernetes-scaling/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scaling
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../kubernetes/kubernetes-monitoring/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Monitoring
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../kubernetes/kubernetes-security/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Security
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../kubernetes/kubernetes-networking/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Networking
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../kubernetes/kubernetes-troubleshooting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Troubleshooting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../kubernetes/kubernetes-best-practices/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Best Practices
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Design Patterns
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Design Patterns
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../design-patterns/design-patterns-principles/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Principles
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../design-patterns/design-patterns-best-practices/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Best Practices
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../design-patterns/design-patterns-j2ee/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    J2EE Patterns
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../design-patterns/design-patterns-behavioral/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Behavioral Patterns
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../design-patterns/design-patterns-structural/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Structural Patterns
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../design-patterns/design-patterns-creational/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Creational Patterns
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment-guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deployment Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../search-implementation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Search Implementation
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="">
            
  
  <span class="md-ellipsis">
    About
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            About
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../feedback/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Feedback
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../CONTRIBUTING/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../LICENSE/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    License
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#learning-objectives" class="md-nav__link">
    Learning Objectives
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#table-of-contents" class="md-nav__link">
    Table of Contents
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduction-to-spring-data-mongodb" class="md-nav__link">
    Introduction to Spring Data MongoDB
  </a>
  
    <nav class="md-nav" aria-label="Introduction to Spring Data MongoDB">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what-is-spring-data-mongodb" class="md-nav__link">
    What is Spring Data MongoDB?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#key-benefits-of-spring-data-mongodb" class="md-nav__link">
    Key Benefits of Spring Data MongoDB
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setting-up-spring-data-mongodb" class="md-nav__link">
    Setting Up Spring Data MongoDB
  </a>
  
    <nav class="md-nav" aria-label="Setting Up Spring Data MongoDB">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#maven-dependencies" class="md-nav__link">
    Maven Dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#basic-configuration" class="md-nav__link">
    Basic Configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mongodb-uri-configuration" class="md-nav__link">
    MongoDB URI Configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-mongodb-configuration" class="md-nav__link">
    Custom MongoDB Configuration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#document-mapping" class="md-nav__link">
    Document Mapping
  </a>
  
    <nav class="md-nav" aria-label="Document Mapping">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-document-class" class="md-nav__link">
    Basic Document Class
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#document-annotations" class="md-nav__link">
    Document Annotations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#embedded-documents" class="md-nav__link">
    Embedded Documents
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#document-references" class="md-nav__link">
    Document References
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#customizing-mapping" class="md-nav__link">
    Customizing Mapping
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mongodb-repositories" class="md-nav__link">
    MongoDB Repositories
  </a>
  
    <nav class="md-nav" aria-label="MongoDB Repositories">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-repository" class="md-nav__link">
    Basic Repository
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-the-repository" class="md-nav__link">
    Using the Repository
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#query-methods" class="md-nav__link">
    Query Methods
  </a>
  
    <nav class="md-nav" aria-label="Query Methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#method-name-syntax" class="md-nav__link">
    Method Name Syntax
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-queries" class="md-nav__link">
    Custom Queries
  </a>
  
    <nav class="md-nav" aria-label="Custom Queries">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-mongodb-queries" class="md-nav__link">
    Basic MongoDB Queries
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-field-projection" class="md-nav__link">
    Using Field Projection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-sort-and-limit" class="md-nav__link">
    Using Sort and Limit
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mongodb-template" class="md-nav__link">
    MongoDB Template
  </a>
  
    <nav class="md-nav" aria-label="MongoDB Template">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-mongotemplate-usage" class="md-nav__link">
    Basic MongoTemplate Usage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#complex-queries-with-criteria" class="md-nav__link">
    Complex Queries with Criteria
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aggregation-framework" class="md-nav__link">
    Aggregation Framework
  </a>
  
    <nav class="md-nav" aria-label="Aggregation Framework">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-aggregation" class="md-nav__link">
    Basic Aggregation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#advanced-aggregation" class="md-nav__link">
    Advanced Aggregation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#indexing" class="md-nav__link">
    Indexing
  </a>
  
    <nav class="md-nav" aria-label="Indexing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#indexing-with-annotations" class="md-nav__link">
    Indexing with Annotations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-indexes-programmatically" class="md-nav__link">
    Creating Indexes Programmatically
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#geospatial-queries" class="md-nav__link">
    Geospatial Queries
  </a>
  
    <nav class="md-nav" aria-label="Geospatial Queries">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#geospatial-document" class="md-nav__link">
    Geospatial Document
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geospatial-repositories" class="md-nav__link">
    Geospatial Repositories
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geospatial-mongotemplate-queries" class="md-nav__link">
    Geospatial MongoTemplate Queries
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gridfs-for-large-files" class="md-nav__link">
    GridFS for Large Files
  </a>
  
    <nav class="md-nav" aria-label="GridFS for Large Files">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gridfs-operations" class="md-nav__link">
    GridFS Operations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-gridfs-in-a-controller" class="md-nav__link">
    Using GridFS in a Controller
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#change-streams" class="md-nav__link">
    Change Streams
  </a>
  
    <nav class="md-nav" aria-label="Change Streams">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#simple-change-stream-example" class="md-nav__link">
    Simple Change Stream Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transactions" class="md-nav__link">
    Transactions
  </a>
  
    <nav class="md-nav" aria-label="Transactions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#transaction-example" class="md-nav__link">
    Transaction Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testing-spring-data-mongodb" class="md-nav__link">
    Testing Spring Data MongoDB
  </a>
  
    <nav class="md-nav" aria-label="Testing Spring Data MongoDB">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#maven-dependencies_1" class="md-nav__link">
    Maven Dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#repository-test" class="md-nav__link">
    Repository Test
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mongotemplate-test" class="md-nav__link">
    MongoTemplate Test
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-with-testcontainers" class="md-nav__link">
    Test with TestContainers
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="spring-data-mongodb">Spring Data MongoDB<a class="headerlink" href="#spring-data-mongodb" title="Permanent link">&para;</a></h1>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>This guide explores Spring Data MongoDB, a part of the Spring Data family that makes it easy to implement MongoDB-based repositories. Spring Data MongoDB simplifies data access by reducing boilerplate code and providing powerful abstractions for MongoDB operations. It helps developers create repository implementations automatically, write sophisticated queries with minimal code, and focus on business logic rather than data access infrastructure.</p>
<h2 id="prerequisites">Prerequisites<a class="headerlink" href="#prerequisites" title="Permanent link">&para;</a></h2>
<ul>
<li>Basic knowledge of Java and Spring Boot</li>
<li>Understanding of NoSQL databases and MongoDB concepts</li>
<li>Familiarity with MongoDB query operations</li>
<li>Development environment with Spring Boot set up</li>
</ul>
<h2 id="learning-objectives">Learning Objectives<a class="headerlink" href="#learning-objectives" title="Permanent link">&para;</a></h2>
<ul>
<li>Understand the core concepts and benefits of Spring Data MongoDB</li>
<li>Configure Spring Data MongoDB in Spring Boot applications</li>
<li>Create and use MongoDB repositories</li>
<li>Define domain models with document annotations</li>
<li>Implement basic and advanced MongoDB queries</li>
<li>Work with MongoDB aggregation framework</li>
<li>Manage relationships in MongoDB</li>
<li>Implement geospatial queries</li>
<li>Optimize MongoDB operations for performance</li>
</ul>
<h2 id="table-of-contents">Table of Contents<a class="headerlink" href="#table-of-contents" title="Permanent link">&para;</a></h2>
<ol>
<li><a href="#introduction-to-spring-data-mongodb">Introduction to Spring Data MongoDB</a></li>
<li><a href="#setting-up-spring-data-mongodb">Setting Up Spring Data MongoDB</a></li>
<li><a href="#document-mapping">Document Mapping</a></li>
<li><a href="#mongodb-repositories">MongoDB Repositories</a></li>
<li><a href="#query-methods">Query Methods</a></li>
<li><a href="#custom-queries">Custom Queries</a></li>
<li><a href="#mongodb-template">MongoDB Template</a></li>
<li><a href="#aggregation-framework">Aggregation Framework</a></li>
<li><a href="#indexing">Indexing</a></li>
<li><a href="#geospatial-queries">Geospatial Queries</a></li>
<li><a href="#gridfs-for-large-files">GridFS for Large Files</a></li>
<li><a href="#change-streams">Change Streams</a></li>
<li><a href="#transactions">Transactions</a></li>
<li><a href="#testing-spring-data-mongodb">Testing Spring Data MongoDB</a></li>
</ol>
<h2 id="introduction-to-spring-data-mongodb">Introduction to Spring Data MongoDB<a class="headerlink" href="#introduction-to-spring-data-mongodb" title="Permanent link">&para;</a></h2>
<p>Spring Data MongoDB is a library that simplifies the development of MongoDB-based data access layers. It removes most of the boilerplate code required when working with MongoDB.</p>
<h3 id="what-is-spring-data-mongodb">What is Spring Data MongoDB?<a class="headerlink" href="#what-is-spring-data-mongodb" title="Permanent link">&para;</a></h3>
<p>Spring Data MongoDB is part of the larger Spring Data family, which aims to provide a familiar and consistent Spring-based programming model for data access while retaining the special traits of the underlying data store.</p>
<p>Spring Data MongoDB specifically focuses on adding enhanced support for MongoDB-based data access layers. It makes it easier to build Spring-powered applications that use MongoDB by:</p>
<ul>
<li>Reducing boilerplate code for repository implementations</li>
<li>Providing powerful repository and custom object-mapping abstractions</li>
<li>Dynamically generating queries from method names</li>
<li>Supporting integration with custom repositories</li>
<li>Simplifying MongoDB-specific operations</li>
</ul>
<h3 id="key-benefits-of-spring-data-mongodb">Key Benefits of Spring Data MongoDB<a class="headerlink" href="#key-benefits-of-spring-data-mongodb" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>Reduced Boilerplate</strong>: Implement repositories with minimal code</li>
<li><strong>Consistent API</strong>: Standard CRUD operations across repositories</li>
<li><strong>Method Name Queries</strong>: Create queries by defining method names</li>
<li><strong>MongoDB Template</strong>: Easy access to MongoDB-specific operations</li>
<li><strong>Automatic Object Mapping</strong>: Conversion between Java objects and BSON documents</li>
<li><strong>Custom Queries</strong>: Simple integration of MongoDB Query Language</li>
<li><strong>Aggregation Framework Support</strong>: Fluent API for MongoDB aggregations</li>
<li><strong>Geospatial Queries</strong>: Support for location-based queries</li>
<li><strong>GridFS Support</strong>: Store and retrieve large files</li>
<li><strong>Reactive Support</strong>: Reactive programming model for MongoDB operations</li>
</ol>
<h2 id="setting-up-spring-data-mongodb">Setting Up Spring Data MongoDB<a class="headerlink" href="#setting-up-spring-data-mongodb" title="Permanent link">&para;</a></h2>
<h3 id="maven-dependencies">Maven Dependencies<a class="headerlink" href="#maven-dependencies" title="Permanent link">&para;</a></h3>
<p>To use Spring Data MongoDB in a Spring Boot application, add the following dependencies:</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;dependency&gt;</span>
<span class="w">    </span><span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
<span class="w">    </span><span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-data-mongodb<span class="nt">&lt;/artifactId&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</code></pre></div>
<p>For reactive MongoDB support:</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;dependency&gt;</span>
<span class="w">    </span><span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
<span class="w">    </span><span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-data-mongodb-reactive<span class="nt">&lt;/artifactId&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</code></pre></div>
<h3 id="basic-configuration">Basic Configuration<a class="headerlink" href="#basic-configuration" title="Permanent link">&para;</a></h3>
<p>Spring Boot provides auto-configuration for Spring Data MongoDB. Configure it in <code>application.properties</code> or <code>application.yml</code>:</p>
<p><strong>application.properties</strong>:
<div class="highlight"><pre><span></span><code><span class="c1"># MongoDB Configuration</span>
<span class="na">spring.data.mongodb.host</span><span class="o">=</span><span class="s">localhost</span>
<span class="na">spring.data.mongodb.port</span><span class="o">=</span><span class="s">27017</span>
<span class="na">spring.data.mongodb.database</span><span class="o">=</span><span class="s">mydb</span>
<span class="c1"># Optional authentication</span>
<span class="na">spring.data.mongodb.username</span><span class="o">=</span><span class="s">user</span>
<span class="na">spring.data.mongodb.password</span><span class="o">=</span><span class="s">password</span>
</code></pre></div></p>
<p><strong>application.yml</strong>:
<div class="highlight"><pre><span></span><code><span class="nt">spring</span><span class="p">:</span>
<span class="w">  </span><span class="nt">data</span><span class="p">:</span>
<span class="w">    </span><span class="nt">mongodb</span><span class="p">:</span>
<span class="w">      </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">localhost</span>
<span class="w">      </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">27017</span>
<span class="w">      </span><span class="nt">database</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mydb</span>
<span class="w">      </span><span class="c1"># Optional authentication</span>
<span class="w">      </span><span class="nt">username</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">user</span>
<span class="w">      </span><span class="nt">password</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">password</span>
</code></pre></div></p>
<h3 id="mongodb-uri-configuration">MongoDB URI Configuration<a class="headerlink" href="#mongodb-uri-configuration" title="Permanent link">&para;</a></h3>
<p>Alternatively, use a MongoDB connection string:</p>
<div class="highlight"><pre><span></span><code><span class="na">spring.data.mongodb.uri</span><span class="o">=</span><span class="s">mongodb://user:password@localhost:27017/mydb</span>
</code></pre></div>
<h3 id="custom-mongodb-configuration">Custom MongoDB Configuration<a class="headerlink" href="#custom-mongodb-configuration" title="Permanent link">&para;</a></h3>
<p>For more control, define a custom MongoDB configuration:</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Configuration</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MongoConfig</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">AbstractMongoClientConfiguration</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getDatabaseName</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;mydb&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">MongoClient</span><span class="w"> </span><span class="nf">mongoClient</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">MongoClients</span><span class="p">.</span><span class="na">create</span><span class="p">(</span><span class="s">&quot;mongodb://localhost:27017&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">configureClientSettings</span><span class="p">(</span><span class="n">MongoClientSettings</span><span class="p">.</span><span class="na">Builder</span><span class="w"> </span><span class="n">builder</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">builder</span><span class="p">.</span><span class="na">applyToClusterSettings</span><span class="p">(</span><span class="n">settings</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">settings</span><span class="p">.</span><span class="na">hosts</span><span class="p">(</span><span class="n">List</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">ServerAddress</span><span class="p">(</span><span class="s">&quot;localhost&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">27017</span><span class="p">)));</span>
<span class="w">        </span><span class="p">})</span>
<span class="w">        </span><span class="p">.</span><span class="na">applyToConnectionPoolSettings</span><span class="p">(</span><span class="n">settings</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">settings</span><span class="p">.</span><span class="na">maxConnectionIdleTime</span><span class="p">(</span><span class="mi">10000</span><span class="p">,</span><span class="w"> </span><span class="n">TimeUnit</span><span class="p">.</span><span class="na">MILLISECONDS</span><span class="p">);</span>
<span class="w">            </span><span class="n">settings</span><span class="p">.</span><span class="na">maxSize</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
<span class="w">        </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="document-mapping">Document Mapping<a class="headerlink" href="#document-mapping" title="Permanent link">&para;</a></h2>
<p>In Spring Data MongoDB, Java classes are mapped to MongoDB documents using annotations.</p>
<h3 id="basic-document-class">Basic Document Class<a class="headerlink" href="#basic-document-class" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@Document</span><span class="p">(</span><span class="n">collection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;products&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Product</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Id</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">id</span><span class="p">;</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">description</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Field</span><span class="p">(</span><span class="s">&quot;price_amount&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">price</span><span class="p">;</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="n">inStock</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@CreatedDate</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Date</span><span class="w"> </span><span class="n">createdAt</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@LastModifiedDate</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Date</span><span class="w"> </span><span class="n">lastModified</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// Constructors, getters, setters, etc.</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="document-annotations">Document Annotations<a class="headerlink" href="#document-annotations" title="Permanent link">&para;</a></h3>
<ul>
<li><code>@Document</code>: Marks the class as a domain object to be persisted to MongoDB</li>
<li><code>@Id</code>: Designates the identifier field</li>
<li><code>@Field</code>: Customizes the field name in the document</li>
<li><code>@Indexed</code>: Creates an index on the field</li>
<li><code>@CompoundIndex</code>: Creates a compound index</li>
<li><code>@DBRef</code>: References another document</li>
<li><code>@Transient</code>: Marks a field to be ignored</li>
<li><code>@CreatedDate</code>, <code>@LastModifiedDate</code>: For auditing</li>
</ul>
<h3 id="embedded-documents">Embedded Documents<a class="headerlink" href="#embedded-documents" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@Document</span><span class="p">(</span><span class="n">collection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;customers&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Customer</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Id</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">id</span><span class="p">;</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">email</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Field</span><span class="p">(</span><span class="s">&quot;shipping_address&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Address</span><span class="w"> </span><span class="n">shippingAddress</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Field</span><span class="p">(</span><span class="s">&quot;billing_address&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Address</span><span class="w"> </span><span class="n">billingAddress</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// Getters, setters, etc.</span>
<span class="p">}</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Address</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">street</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">city</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">state</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">zipCode</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// Getters, setters, etc.</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="document-references">Document References<a class="headerlink" href="#document-references" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@Document</span><span class="p">(</span><span class="n">collection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;orders&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Order</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Id</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">id</span><span class="p">;</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">orderNumber</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@DBRef</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Customer</span><span class="w"> </span><span class="n">customer</span><span class="p">;</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">OrderItem</span><span class="o">&gt;</span><span class="w"> </span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">OrderStatus</span><span class="w"> </span><span class="n">status</span><span class="p">;</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Date</span><span class="w"> </span><span class="n">orderDate</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// Getters, setters, etc.</span>
<span class="p">}</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">OrderItem</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">productId</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">productName</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">quantity</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">price</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// Getters, setters, etc.</span>
<span class="p">}</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">enum</span><span class="w"> </span><span class="n">OrderStatus</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">PENDING</span><span class="p">,</span><span class="w"> </span><span class="n">PROCESSING</span><span class="p">,</span><span class="w"> </span><span class="n">SHIPPED</span><span class="p">,</span><span class="w"> </span><span class="n">DELIVERED</span><span class="p">,</span><span class="w"> </span><span class="n">CANCELLED</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="customizing-mapping">Customizing Mapping<a class="headerlink" href="#customizing-mapping" title="Permanent link">&para;</a></h3>
<p>For more control over document mapping:</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Configuration</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MongoCustomConversions</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">AbstractMongoClientConfiguration</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getDatabaseName</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;mydb&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Bean</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">MongoCustomConversions</span><span class="w"> </span><span class="nf">mongoCustomConversions</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Converter</span><span class="o">&lt;?</span><span class="p">,</span><span class="w"> </span><span class="o">?&gt;&gt;</span><span class="w"> </span><span class="n">converters</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="w">        </span><span class="n">converters</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">DateToZonedDateTimeConverter</span><span class="p">());</span>
<span class="w">        </span><span class="n">converters</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">ZonedDateTimeToDateConverter</span><span class="p">());</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">MongoCustomConversions</span><span class="p">(</span><span class="n">converters</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">class</span> <span class="nc">DateToZonedDateTimeConverter</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Converter</span><span class="o">&lt;</span><span class="n">Date</span><span class="p">,</span><span class="w"> </span><span class="n">ZonedDateTime</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nd">@Override</span>
<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="n">ZonedDateTime</span><span class="w"> </span><span class="nf">convert</span><span class="p">(</span><span class="n">Date</span><span class="w"> </span><span class="n">source</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">ZonedDateTime</span><span class="p">.</span><span class="na">ofInstant</span><span class="p">(</span><span class="n">source</span><span class="p">.</span><span class="na">toInstant</span><span class="p">(),</span><span class="w"> </span><span class="n">ZoneId</span><span class="p">.</span><span class="na">systemDefault</span><span class="p">());</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">class</span> <span class="nc">ZonedDateTimeToDateConverter</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Converter</span><span class="o">&lt;</span><span class="n">ZonedDateTime</span><span class="p">,</span><span class="w"> </span><span class="n">Date</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nd">@Override</span>
<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="n">Date</span><span class="w"> </span><span class="nf">convert</span><span class="p">(</span><span class="n">ZonedDateTime</span><span class="w"> </span><span class="n">source</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">Date</span><span class="p">.</span><span class="na">from</span><span class="p">(</span><span class="n">source</span><span class="p">.</span><span class="na">toInstant</span><span class="p">());</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="mongodb-repositories">MongoDB Repositories<a class="headerlink" href="#mongodb-repositories" title="Permanent link">&para;</a></h2>
<p>Spring Data MongoDB provides repositories that offer methods for common MongoDB operations.</p>
<h3 id="basic-repository">Basic Repository<a class="headerlink" href="#basic-repository" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">ProductRepository</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">MongoRepository</span><span class="o">&lt;</span><span class="n">Product</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// That&#39;s it! You get CRUD operations for free</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="using-the-repository">Using the Repository<a class="headerlink" href="#using-the-repository" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@Service</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ProductService</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">ProductRepository</span><span class="w"> </span><span class="n">productRepository</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">ProductService</span><span class="p">(</span><span class="n">ProductRepository</span><span class="w"> </span><span class="n">productRepository</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">productRepository</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">productRepository</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findAllProducts</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">productRepository</span><span class="p">.</span><span class="na">findAll</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findProductById</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">productRepository</span><span class="p">.</span><span class="na">findById</span><span class="p">(</span><span class="n">id</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Product</span><span class="w"> </span><span class="nf">saveProduct</span><span class="p">(</span><span class="n">Product</span><span class="w"> </span><span class="n">product</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">productRepository</span><span class="p">.</span><span class="na">save</span><span class="p">(</span><span class="n">product</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">deleteProduct</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">productRepository</span><span class="p">.</span><span class="na">deleteById</span><span class="p">(</span><span class="n">id</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="query-methods">Query Methods<a class="headerlink" href="#query-methods" title="Permanent link">&para;</a></h2>
<p>Spring Data MongoDB can automatically generate query implementations based on method names.</p>
<h3 id="method-name-syntax">Method Name Syntax<a class="headerlink" href="#method-name-syntax" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">ProductRepository</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">MongoRepository</span><span class="o">&lt;</span><span class="n">Product</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Simple property conditions</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findByName</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">);</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findByNameAndPrice</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">price</span><span class="p">);</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findByNameOrDescription</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">description</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Comparisons</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findByPriceGreaterThan</span><span class="p">(</span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">price</span><span class="p">);</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findByPriceLessThanEqual</span><span class="p">(</span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">price</span><span class="p">);</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findByPriceBetween</span><span class="p">(</span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">min</span><span class="p">,</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">max</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// String operations</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findByNameContaining</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">namePart</span><span class="p">);</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findByNameStartingWith</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">prefix</span><span class="p">);</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findByNameEndingWith</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">suffix</span><span class="p">);</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findByNameIgnoreCase</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Collection operations</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findByTagsIn</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">tags</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Null handling</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findByDescriptionIsNull</span><span class="p">();</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findByDescriptionIsNotNull</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// Limiting results</span>
<span class="w">    </span><span class="n">Product</span><span class="w"> </span><span class="nf">findFirstByOrderByCreatedAtDesc</span><span class="p">();</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findTop5ByOrderByPriceDesc</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// Nested properties</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findByShippingAddressCity</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">city</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Boolean checks</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findByInStockTrue</span><span class="p">();</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findByInStockFalse</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// Existence queries</span>
<span class="w">    </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">existsByName</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Count queries</span>
<span class="w">    </span><span class="kt">long</span><span class="w"> </span><span class="nf">countByCategoryId</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">categoryId</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Delete queries</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">deleteByName</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="custom-queries">Custom Queries<a class="headerlink" href="#custom-queries" title="Permanent link">&para;</a></h2>
<p>For more complex queries, use the <code>@Query</code> annotation with MongoDB Query Language.</p>
<h3 id="basic-mongodb-queries">Basic MongoDB Queries<a class="headerlink" href="#basic-mongodb-queries" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">ProductRepository</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">MongoRepository</span><span class="o">&lt;</span><span class="n">Product</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Query</span><span class="p">(</span><span class="s">&quot;{ &#39;price&#39;: { $gt: ?0 }, &#39;category.name&#39;: ?1 }&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findExpensiveProductsByCategory</span><span class="p">(</span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">price</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">categoryName</span><span class="p">);</span>

<span class="w">    </span><span class="nd">@Query</span><span class="p">(</span><span class="s">&quot;{ &#39;name&#39;: { $regex: ?0, $options: &#39;i&#39; } }&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">searchByName</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">keyword</span><span class="p">);</span>

<span class="w">    </span><span class="nd">@Query</span><span class="p">(</span><span class="s">&quot;{ &#39;tags&#39;: { $in: [ ?0 ] } }&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findByTagName</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">tagName</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="using-field-projection">Using Field Projection<a class="headerlink" href="#using-field-projection" title="Permanent link">&para;</a></h3>
<p>Return only specific fields:</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">ProductRepository</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">MongoRepository</span><span class="o">&lt;</span><span class="n">Product</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Query</span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;{ &#39;category.id&#39;: ?0 }&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">fields</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;{ &#39;name&#39;: 1, &#39;price&#39;: 1 }&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findProductSummaryByCategory</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">categoryId</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="using-sort-and-limit">Using Sort and Limit<a class="headerlink" href="#using-sort-and-limit" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">ProductRepository</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">MongoRepository</span><span class="o">&lt;</span><span class="n">Product</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Query</span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;{ &#39;inStock&#39;: true }&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">sort</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;{ &#39;price&#39;: -1 }&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findInStockProductsSortedByPriceDesc</span><span class="p">();</span>

<span class="w">    </span><span class="nd">@Query</span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;{ &#39;price&#39;: { $gt: ?0 } }&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">sort</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;{ &#39;createdAt&#39;: -1 }&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findExpensiveProductsOrderByCreatedDesc</span><span class="p">(</span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">minPrice</span><span class="p">,</span><span class="w"> </span><span class="n">Pageable</span><span class="w"> </span><span class="n">pageable</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="mongodb-template">MongoDB Template<a class="headerlink" href="#mongodb-template" title="Permanent link">&para;</a></h2>
<p>MongoTemplate provides direct access to MongoDB operations for cases where repositories are not sufficient.</p>
<h3 id="basic-mongotemplate-usage">Basic MongoTemplate Usage<a class="headerlink" href="#basic-mongotemplate-usage" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@Service</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ProductService</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">MongoTemplate</span><span class="w"> </span><span class="n">mongoTemplate</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">ProductService</span><span class="p">(</span><span class="n">MongoTemplate</span><span class="w"> </span><span class="n">mongoTemplate</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">mongoTemplate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mongoTemplate</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Product</span><span class="w"> </span><span class="nf">findById</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">mongoTemplate</span><span class="p">.</span><span class="na">findById</span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">Product</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findAll</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">mongoTemplate</span><span class="p">.</span><span class="na">findAll</span><span class="p">(</span><span class="n">Product</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Product</span><span class="w"> </span><span class="nf">save</span><span class="p">(</span><span class="n">Product</span><span class="w"> </span><span class="n">product</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">mongoTemplate</span><span class="p">.</span><span class="na">save</span><span class="p">(</span><span class="n">product</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">delete</span><span class="p">(</span><span class="n">Product</span><span class="w"> </span><span class="n">product</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">mongoTemplate</span><span class="p">.</span><span class="na">remove</span><span class="p">(</span><span class="n">product</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findByNameStartsWith</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">prefix</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Query</span><span class="w"> </span><span class="n">query</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Query</span><span class="p">(</span><span class="n">Criteria</span><span class="p">.</span><span class="na">where</span><span class="p">(</span><span class="s">&quot;name&quot;</span><span class="p">).</span><span class="na">regex</span><span class="p">(</span><span class="s">&quot;^&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">prefix</span><span class="p">));</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">mongoTemplate</span><span class="p">.</span><span class="na">find</span><span class="p">(</span><span class="n">query</span><span class="p">,</span><span class="w"> </span><span class="n">Product</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findExpensiveProducts</span><span class="p">(</span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">minPrice</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Query</span><span class="w"> </span><span class="n">query</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Query</span><span class="p">(</span><span class="n">Criteria</span><span class="p">.</span><span class="na">where</span><span class="p">(</span><span class="s">&quot;price&quot;</span><span class="p">).</span><span class="na">gt</span><span class="p">(</span><span class="n">minPrice</span><span class="p">))</span>
<span class="w">                </span><span class="p">.</span><span class="na">with</span><span class="p">(</span><span class="n">Sort</span><span class="p">.</span><span class="na">by</span><span class="p">(</span><span class="n">Sort</span><span class="p">.</span><span class="na">Direction</span><span class="p">.</span><span class="na">DESC</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;price&quot;</span><span class="p">));</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">mongoTemplate</span><span class="p">.</span><span class="na">find</span><span class="p">(</span><span class="n">query</span><span class="p">,</span><span class="w"> </span><span class="n">Product</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">updateProductStock</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="n">inStock</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Query</span><span class="w"> </span><span class="n">query</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Query</span><span class="p">(</span><span class="n">Criteria</span><span class="p">.</span><span class="na">where</span><span class="p">(</span><span class="s">&quot;id&quot;</span><span class="p">).</span><span class="na">is</span><span class="p">(</span><span class="n">id</span><span class="p">));</span>
<span class="w">        </span><span class="n">Update</span><span class="w"> </span><span class="n">update</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Update</span><span class="p">().</span><span class="na">set</span><span class="p">(</span><span class="s">&quot;inStock&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">inStock</span><span class="p">);</span>
<span class="w">        </span><span class="n">mongoTemplate</span><span class="p">.</span><span class="na">updateFirst</span><span class="p">(</span><span class="n">query</span><span class="p">,</span><span class="w"> </span><span class="n">update</span><span class="p">,</span><span class="w"> </span><span class="n">Product</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="complex-queries-with-criteria">Complex Queries with Criteria<a class="headerlink" href="#complex-queries-with-criteria" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@Service</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ProductSearchService</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">MongoTemplate</span><span class="w"> </span><span class="n">mongoTemplate</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">ProductSearchService</span><span class="p">(</span><span class="n">MongoTemplate</span><span class="w"> </span><span class="n">mongoTemplate</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">mongoTemplate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mongoTemplate</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">searchProducts</span><span class="p">(</span>
<span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">nameKeyword</span><span class="p">,</span><span class="w"> </span>
<span class="w">            </span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">categories</span><span class="p">,</span>
<span class="w">            </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">minPrice</span><span class="p">,</span>
<span class="w">            </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">maxPrice</span><span class="p">,</span>
<span class="w">            </span><span class="n">Boolean</span><span class="w"> </span><span class="n">inStock</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="n">Criteria</span><span class="w"> </span><span class="n">criteria</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Criteria</span><span class="p">();</span>

<span class="w">        </span><span class="c1">// Add conditions based on provided parameters</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">nameKeyword</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">!</span><span class="n">nameKeyword</span><span class="p">.</span><span class="na">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">criteria</span><span class="p">.</span><span class="na">and</span><span class="p">(</span><span class="s">&quot;name&quot;</span><span class="p">).</span><span class="na">regex</span><span class="p">(</span><span class="n">nameKeyword</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;i&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">categories</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">!</span><span class="n">categories</span><span class="p">.</span><span class="na">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">criteria</span><span class="p">.</span><span class="na">and</span><span class="p">(</span><span class="s">&quot;category.id&quot;</span><span class="p">).</span><span class="na">in</span><span class="p">(</span><span class="n">categories</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">minPrice</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">criteria</span><span class="p">.</span><span class="na">and</span><span class="p">(</span><span class="s">&quot;price&quot;</span><span class="p">).</span><span class="na">gte</span><span class="p">(</span><span class="n">minPrice</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">maxPrice</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">criteria</span><span class="p">.</span><span class="na">and</span><span class="p">(</span><span class="s">&quot;price&quot;</span><span class="p">).</span><span class="na">lte</span><span class="p">(</span><span class="n">maxPrice</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">inStock</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">criteria</span><span class="p">.</span><span class="na">and</span><span class="p">(</span><span class="s">&quot;inStock&quot;</span><span class="p">).</span><span class="na">is</span><span class="p">(</span><span class="n">inStock</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="n">Query</span><span class="w"> </span><span class="n">query</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Query</span><span class="p">(</span><span class="n">criteria</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// Add sorting</span>
<span class="w">        </span><span class="n">query</span><span class="p">.</span><span class="na">with</span><span class="p">(</span><span class="n">Sort</span><span class="p">.</span><span class="na">by</span><span class="p">(</span><span class="n">Sort</span><span class="p">.</span><span class="na">Direction</span><span class="p">.</span><span class="na">ASC</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;name&quot;</span><span class="p">));</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">mongoTemplate</span><span class="p">.</span><span class="na">find</span><span class="p">(</span><span class="n">query</span><span class="p">,</span><span class="w"> </span><span class="n">Product</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="aggregation-framework">Aggregation Framework<a class="headerlink" href="#aggregation-framework" title="Permanent link">&para;</a></h2>
<p>Spring Data MongoDB provides a fluent API for MongoDB's powerful aggregation framework.</p>
<h3 id="basic-aggregation">Basic Aggregation<a class="headerlink" href="#basic-aggregation" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@Service</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">SalesAnalyticsService</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">MongoTemplate</span><span class="w"> </span><span class="n">mongoTemplate</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">SalesAnalyticsService</span><span class="p">(</span><span class="n">MongoTemplate</span><span class="w"> </span><span class="n">mongoTemplate</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">mongoTemplate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mongoTemplate</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">CategorySales</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">getCategorySales</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">TypedAggregation</span><span class="o">&lt;</span><span class="n">Order</span><span class="o">&gt;</span><span class="w"> </span><span class="n">aggregation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Aggregation</span><span class="p">.</span><span class="na">newAggregation</span><span class="p">(</span>
<span class="w">                </span><span class="n">Order</span><span class="p">.</span><span class="na">class</span><span class="p">,</span>
<span class="w">                </span><span class="n">Aggregation</span><span class="p">.</span><span class="na">unwind</span><span class="p">(</span><span class="s">&quot;items&quot;</span><span class="p">),</span>
<span class="w">                </span><span class="n">Aggregation</span><span class="p">.</span><span class="na">group</span><span class="p">(</span><span class="s">&quot;items.category&quot;</span><span class="p">)</span>
<span class="w">                        </span><span class="p">.</span><span class="na">sum</span><span class="p">(</span><span class="s">&quot;items.quantity&quot;</span><span class="p">).</span><span class="na">as</span><span class="p">(</span><span class="s">&quot;totalQuantity&quot;</span><span class="p">)</span>
<span class="w">                        </span><span class="p">.</span><span class="na">sum</span><span class="p">(</span><span class="n">Aggregation</span><span class="p">.</span><span class="na">multiply</span><span class="p">(</span><span class="s">&quot;items.price&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;items.quantity&quot;</span><span class="p">)).</span><span class="na">as</span><span class="p">(</span><span class="s">&quot;totalSales&quot;</span><span class="p">),</span>
<span class="w">                </span><span class="n">Aggregation</span><span class="p">.</span><span class="na">project</span><span class="p">()</span>
<span class="w">                        </span><span class="p">.</span><span class="na">and</span><span class="p">(</span><span class="s">&quot;_id&quot;</span><span class="p">).</span><span class="na">as</span><span class="p">(</span><span class="s">&quot;category&quot;</span><span class="p">)</span>
<span class="w">                        </span><span class="p">.</span><span class="na">and</span><span class="p">(</span><span class="s">&quot;totalQuantity&quot;</span><span class="p">).</span><span class="na">as</span><span class="p">(</span><span class="s">&quot;quantity&quot;</span><span class="p">)</span>
<span class="w">                        </span><span class="p">.</span><span class="na">and</span><span class="p">(</span><span class="s">&quot;totalSales&quot;</span><span class="p">).</span><span class="na">as</span><span class="p">(</span><span class="s">&quot;sales&quot;</span><span class="p">),</span>
<span class="w">                </span><span class="n">Aggregation</span><span class="p">.</span><span class="na">sort</span><span class="p">(</span><span class="n">Sort</span><span class="p">.</span><span class="na">Direction</span><span class="p">.</span><span class="na">DESC</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;sales&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="p">);</span>

<span class="w">        </span><span class="n">AggregationResults</span><span class="o">&lt;</span><span class="n">CategorySales</span><span class="o">&gt;</span><span class="w"> </span><span class="n">results</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mongoTemplate</span><span class="p">.</span><span class="na">aggregate</span><span class="p">(</span>
<span class="w">                </span><span class="n">aggregation</span><span class="p">,</span><span class="w"> </span><span class="n">CategorySales</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">results</span><span class="p">.</span><span class="na">getMappedResults</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">class</span> <span class="nc">CategorySales</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">category</span><span class="p">;</span>
<span class="w">        </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">quantity</span><span class="p">;</span>
<span class="w">        </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">sales</span><span class="p">;</span>

<span class="w">        </span><span class="c1">// Getters and setters</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="advanced-aggregation">Advanced Aggregation<a class="headerlink" href="#advanced-aggregation" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@Service</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">CustomerInsightsService</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">MongoTemplate</span><span class="w"> </span><span class="n">mongoTemplate</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">CustomerInsightsService</span><span class="p">(</span><span class="n">MongoTemplate</span><span class="w"> </span><span class="n">mongoTemplate</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">mongoTemplate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mongoTemplate</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">CustomerSpending</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">getTopCustomers</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">limit</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">TypedAggregation</span><span class="o">&lt;</span><span class="n">Order</span><span class="o">&gt;</span><span class="w"> </span><span class="n">aggregation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Aggregation</span><span class="p">.</span><span class="na">newAggregation</span><span class="p">(</span>
<span class="w">                </span><span class="n">Order</span><span class="p">.</span><span class="na">class</span><span class="p">,</span>
<span class="w">                </span><span class="n">Aggregation</span><span class="p">.</span><span class="na">match</span><span class="p">(</span><span class="n">Criteria</span><span class="p">.</span><span class="na">where</span><span class="p">(</span><span class="s">&quot;status&quot;</span><span class="p">).</span><span class="na">is</span><span class="p">(</span><span class="s">&quot;DELIVERED&quot;</span><span class="p">)),</span>
<span class="w">                </span><span class="n">Aggregation</span><span class="p">.</span><span class="na">group</span><span class="p">(</span><span class="s">&quot;customer&quot;</span><span class="p">)</span>
<span class="w">                        </span><span class="p">.</span><span class="na">count</span><span class="p">().</span><span class="na">as</span><span class="p">(</span><span class="s">&quot;orderCount&quot;</span><span class="p">)</span>
<span class="w">                        </span><span class="p">.</span><span class="na">sum</span><span class="p">(</span><span class="s">&quot;totalAmount&quot;</span><span class="p">).</span><span class="na">as</span><span class="p">(</span><span class="s">&quot;totalSpent&quot;</span><span class="p">)</span>
<span class="w">                        </span><span class="p">.</span><span class="na">max</span><span class="p">(</span><span class="s">&quot;orderDate&quot;</span><span class="p">).</span><span class="na">as</span><span class="p">(</span><span class="s">&quot;lastOrderDate&quot;</span><span class="p">),</span>
<span class="w">                </span><span class="n">Aggregation</span><span class="p">.</span><span class="na">lookup</span><span class="p">(</span><span class="s">&quot;customers&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;_id&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;_id&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;customerDetails&quot;</span><span class="p">),</span>
<span class="w">                </span><span class="n">Aggregation</span><span class="p">.</span><span class="na">unwind</span><span class="p">(</span><span class="s">&quot;customerDetails&quot;</span><span class="p">),</span>
<span class="w">                </span><span class="n">Aggregation</span><span class="p">.</span><span class="na">project</span><span class="p">()</span>
<span class="w">                        </span><span class="p">.</span><span class="na">and</span><span class="p">(</span><span class="s">&quot;customerDetails.name&quot;</span><span class="p">).</span><span class="na">as</span><span class="p">(</span><span class="s">&quot;name&quot;</span><span class="p">)</span>
<span class="w">                        </span><span class="p">.</span><span class="na">and</span><span class="p">(</span><span class="s">&quot;customerDetails.email&quot;</span><span class="p">).</span><span class="na">as</span><span class="p">(</span><span class="s">&quot;email&quot;</span><span class="p">)</span>
<span class="w">                        </span><span class="p">.</span><span class="na">and</span><span class="p">(</span><span class="s">&quot;orderCount&quot;</span><span class="p">).</span><span class="na">as</span><span class="p">(</span><span class="s">&quot;orders&quot;</span><span class="p">)</span>
<span class="w">                        </span><span class="p">.</span><span class="na">and</span><span class="p">(</span><span class="s">&quot;totalSpent&quot;</span><span class="p">).</span><span class="na">as</span><span class="p">(</span><span class="s">&quot;spent&quot;</span><span class="p">)</span>
<span class="w">                        </span><span class="p">.</span><span class="na">and</span><span class="p">(</span><span class="s">&quot;lastOrderDate&quot;</span><span class="p">).</span><span class="na">as</span><span class="p">(</span><span class="s">&quot;lastOrder&quot;</span><span class="p">),</span>
<span class="w">                </span><span class="n">Aggregation</span><span class="p">.</span><span class="na">sort</span><span class="p">(</span><span class="n">Sort</span><span class="p">.</span><span class="na">Direction</span><span class="p">.</span><span class="na">DESC</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;spent&quot;</span><span class="p">),</span>
<span class="w">                </span><span class="n">Aggregation</span><span class="p">.</span><span class="na">limit</span><span class="p">(</span><span class="n">limit</span><span class="p">)</span>
<span class="w">        </span><span class="p">);</span>

<span class="w">        </span><span class="n">AggregationResults</span><span class="o">&lt;</span><span class="n">CustomerSpending</span><span class="o">&gt;</span><span class="w"> </span><span class="n">results</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mongoTemplate</span><span class="p">.</span><span class="na">aggregate</span><span class="p">(</span>
<span class="w">                </span><span class="n">aggregation</span><span class="p">,</span><span class="w"> </span><span class="n">CustomerSpending</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">results</span><span class="p">.</span><span class="na">getMappedResults</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">class</span> <span class="nc">CustomerSpending</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">        </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">email</span><span class="p">;</span>
<span class="w">        </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">orders</span><span class="p">;</span>
<span class="w">        </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">spent</span><span class="p">;</span>
<span class="w">        </span><span class="kd">private</span><span class="w"> </span><span class="n">Date</span><span class="w"> </span><span class="n">lastOrder</span><span class="p">;</span>

<span class="w">        </span><span class="c1">// Getters and setters</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="indexing">Indexing<a class="headerlink" href="#indexing" title="Permanent link">&para;</a></h2>
<p>Adding indexes to MongoDB collections improves query performance.</p>
<h3 id="indexing-with-annotations">Indexing with Annotations<a class="headerlink" href="#indexing-with-annotations" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@Document</span><span class="p">(</span><span class="n">collection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;products&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Product</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Id</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">id</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Indexed</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">description</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Indexed</span><span class="p">(</span><span class="n">direction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">IndexDirection</span><span class="p">.</span><span class="na">DESCENDING</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">price</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Indexed</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="n">inStock</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Indexed</span><span class="p">(</span><span class="n">expireAfterSeconds</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">86400</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Date</span><span class="w"> </span><span class="n">createdAt</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// Other fields, getters, setters, etc.</span>
<span class="p">}</span>

<span class="nd">@Document</span><span class="p">(</span><span class="n">collection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;customers&quot;</span><span class="p">)</span>
<span class="nd">@CompoundIndexes</span><span class="p">({</span>
<span class="w">    </span><span class="nd">@CompoundIndex</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;email_city&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">def</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;{&#39;email&#39;: 1, &#39;shippingAddress.city&#39;: 1}&quot;</span><span class="p">)</span>
<span class="p">})</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Customer</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Id</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">id</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Indexed</span><span class="p">(</span><span class="n">unique</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">email</span><span class="p">;</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Address</span><span class="w"> </span><span class="n">shippingAddress</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// Other fields, getters, setters, etc.</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="creating-indexes-programmatically">Creating Indexes Programmatically<a class="headerlink" href="#creating-indexes-programmatically" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@Component</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MongoIndexInitializer</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">ApplicationListener</span><span class="o">&lt;</span><span class="n">ApplicationReadyEvent</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">MongoTemplate</span><span class="w"> </span><span class="n">mongoTemplate</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">MongoIndexInitializer</span><span class="p">(</span><span class="n">MongoTemplate</span><span class="w"> </span><span class="n">mongoTemplate</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">mongoTemplate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mongoTemplate</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onApplicationEvent</span><span class="p">(</span><span class="n">ApplicationReadyEvent</span><span class="w"> </span><span class="n">event</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Create text index</span>
<span class="w">        </span><span class="n">mongoTemplate</span><span class="p">.</span><span class="na">indexOps</span><span class="p">(</span><span class="n">Product</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">ensureIndex</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">TextIndexDefinition</span><span class="p">.</span><span class="na">TextIndexDefinitionBuilder</span><span class="p">()</span>
<span class="w">                        </span><span class="p">.</span><span class="na">onField</span><span class="p">(</span><span class="s">&quot;name&quot;</span><span class="p">)</span>
<span class="w">                        </span><span class="p">.</span><span class="na">onField</span><span class="p">(</span><span class="s">&quot;description&quot;</span><span class="p">)</span>
<span class="w">                        </span><span class="p">.</span><span class="na">build</span><span class="p">());</span>

<span class="w">        </span><span class="c1">// Create geospatial index</span>
<span class="w">        </span><span class="n">mongoTemplate</span><span class="p">.</span><span class="na">indexOps</span><span class="p">(</span><span class="s">&quot;stores&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">ensureIndex</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">GeospatialIndex</span><span class="p">(</span><span class="s">&quot;location&quot;</span><span class="p">));</span>

<span class="w">        </span><span class="c1">// Create compound index</span>
<span class="w">        </span><span class="n">mongoTemplate</span><span class="p">.</span><span class="na">indexOps</span><span class="p">(</span><span class="n">Order</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">ensureIndex</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Index</span><span class="p">()</span>
<span class="w">                        </span><span class="p">.</span><span class="na">on</span><span class="p">(</span><span class="s">&quot;customer&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Sort</span><span class="p">.</span><span class="na">Direction</span><span class="p">.</span><span class="na">ASC</span><span class="p">)</span>
<span class="w">                        </span><span class="p">.</span><span class="na">on</span><span class="p">(</span><span class="s">&quot;orderDate&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Sort</span><span class="p">.</span><span class="na">Direction</span><span class="p">.</span><span class="na">DESC</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="geospatial-queries">Geospatial Queries<a class="headerlink" href="#geospatial-queries" title="Permanent link">&para;</a></h2>
<p>MongoDB supports geospatial queries for location-based applications.</p>
<h3 id="geospatial-document">Geospatial Document<a class="headerlink" href="#geospatial-document" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@Document</span><span class="p">(</span><span class="n">collection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;stores&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Store</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Id</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">id</span><span class="p">;</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">address</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@GeoSpatialIndexed</span><span class="p">(</span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GeoSpatialIndexType</span><span class="p">.</span><span class="na">GEO_2DSPHERE</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">GeoJsonPoint</span><span class="w"> </span><span class="n">location</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// Getters, setters, etc.</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="geospatial-repositories">Geospatial Repositories<a class="headerlink" href="#geospatial-repositories" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">StoreRepository</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">MongoRepository</span><span class="o">&lt;</span><span class="n">Store</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="c1">// Find stores near a point within a distance (in meters)</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Store</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findByLocationNear</span><span class="p">(</span><span class="n">Point</span><span class="w"> </span><span class="n">location</span><span class="p">,</span><span class="w"> </span><span class="n">Distance</span><span class="w"> </span><span class="n">distance</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Find stores within a circle</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Store</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findByLocationWithin</span><span class="p">(</span><span class="n">Circle</span><span class="w"> </span><span class="n">circle</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Find stores within a polygon</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Store</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findByLocationWithin</span><span class="p">(</span><span class="n">Polygon</span><span class="w"> </span><span class="n">polygon</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="geospatial-mongotemplate-queries">Geospatial MongoTemplate Queries<a class="headerlink" href="#geospatial-mongotemplate-queries" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@Service</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">StoreLocatorService</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">MongoTemplate</span><span class="w"> </span><span class="n">mongoTemplate</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">StoreLocatorService</span><span class="p">(</span><span class="n">MongoTemplate</span><span class="w"> </span><span class="n">mongoTemplate</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">mongoTemplate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mongoTemplate</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Store</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findStoresNearLocation</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">latitude</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">longitude</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">maxDistance</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Point</span><span class="w"> </span><span class="n">point</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Point</span><span class="p">(</span><span class="n">longitude</span><span class="p">,</span><span class="w"> </span><span class="n">latitude</span><span class="p">);</span>
<span class="w">        </span><span class="n">Distance</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Distance</span><span class="p">(</span><span class="n">maxDistance</span><span class="p">,</span><span class="w"> </span><span class="n">Metrics</span><span class="p">.</span><span class="na">KILOMETERS</span><span class="p">);</span>

<span class="w">        </span><span class="n">Query</span><span class="w"> </span><span class="n">query</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Query</span><span class="p">(</span><span class="n">Criteria</span><span class="p">.</span><span class="na">where</span><span class="p">(</span><span class="s">&quot;location&quot;</span><span class="p">).</span><span class="na">nearSphere</span><span class="p">(</span><span class="n">point</span><span class="p">).</span><span class="na">maxDistance</span><span class="p">(</span><span class="n">distance</span><span class="p">));</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">mongoTemplate</span><span class="p">.</span><span class="na">find</span><span class="p">(</span><span class="n">query</span><span class="p">,</span><span class="w"> </span><span class="n">Store</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Store</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findStoresWithinBox</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">lowerLeftX</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">lowerLeftY</span><span class="p">,</span><span class="w"> </span>
<span class="w">                                         </span><span class="kt">double</span><span class="w"> </span><span class="n">upperRightX</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">upperRightY</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Box</span><span class="w"> </span><span class="n">box</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Box</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Point</span><span class="p">(</span><span class="n">lowerLeftX</span><span class="p">,</span><span class="w"> </span><span class="n">lowerLeftY</span><span class="p">),</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Point</span><span class="p">(</span><span class="n">upperRightX</span><span class="p">,</span><span class="w"> </span><span class="n">upperRightY</span><span class="p">));</span>

<span class="w">        </span><span class="n">Query</span><span class="w"> </span><span class="n">query</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Query</span><span class="p">(</span><span class="n">Criteria</span><span class="p">.</span><span class="na">where</span><span class="p">(</span><span class="s">&quot;location&quot;</span><span class="p">).</span><span class="na">within</span><span class="p">(</span><span class="n">box</span><span class="p">));</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">mongoTemplate</span><span class="p">.</span><span class="na">find</span><span class="p">(</span><span class="n">query</span><span class="p">,</span><span class="w"> </span><span class="n">Store</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="gridfs-for-large-files">GridFS for Large Files<a class="headerlink" href="#gridfs-for-large-files" title="Permanent link">&para;</a></h2>
<p>MongoDB GridFS is used for storing large files such as images, videos, and PDFs.</p>
<h3 id="gridfs-operations">GridFS Operations<a class="headerlink" href="#gridfs-operations" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@Service</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">FileStorageService</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">GridFsTemplate</span><span class="w"> </span><span class="n">gridFsTemplate</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">GridFsOperations</span><span class="w"> </span><span class="n">gridFsOperations</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">FileStorageService</span><span class="p">(</span><span class="n">GridFsTemplate</span><span class="w"> </span><span class="n">gridFsTemplate</span><span class="p">,</span><span class="w"> </span><span class="n">GridFsOperations</span><span class="w"> </span><span class="n">gridFsOperations</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">gridFsTemplate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">gridFsTemplate</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">gridFsOperations</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">gridFsOperations</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">storeFile</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">filename</span><span class="p">,</span><span class="w"> </span><span class="n">InputStream</span><span class="w"> </span><span class="n">content</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">contentType</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">DBObject</span><span class="w"> </span><span class="n">metadata</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BasicDBObject</span><span class="p">();</span>
<span class="w">        </span><span class="n">metadata</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;contentType&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">contentType</span><span class="p">);</span>

<span class="w">        </span><span class="n">ObjectId</span><span class="w"> </span><span class="n">fileId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">gridFsTemplate</span><span class="p">.</span><span class="na">store</span><span class="p">(</span><span class="n">content</span><span class="p">,</span><span class="w"> </span><span class="n">filename</span><span class="p">,</span><span class="w"> </span><span class="n">contentType</span><span class="p">,</span><span class="w"> </span><span class="n">metadata</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">fileId</span><span class="p">.</span><span class="na">toString</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">GridFSFile</span><span class="w"> </span><span class="nf">getFile</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">gridFsTemplate</span><span class="p">.</span><span class="na">findOne</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Query</span><span class="p">(</span><span class="n">Criteria</span><span class="p">.</span><span class="na">where</span><span class="p">(</span><span class="s">&quot;_id&quot;</span><span class="p">).</span><span class="na">is</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">ObjectId</span><span class="p">(</span><span class="n">id</span><span class="p">))));</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">GridFsResource</span><span class="w"> </span><span class="nf">getResource</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">GridFSFile</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getFile</span><span class="p">(</span><span class="n">id</span><span class="p">);</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">file</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">gridFsOperations</span><span class="p">.</span><span class="na">getResource</span><span class="p">(</span><span class="n">file</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">deleteFile</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">gridFsTemplate</span><span class="p">.</span><span class="na">delete</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Query</span><span class="p">(</span><span class="n">Criteria</span><span class="p">.</span><span class="na">where</span><span class="p">(</span><span class="s">&quot;_id&quot;</span><span class="p">).</span><span class="na">is</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">ObjectId</span><span class="p">(</span><span class="n">id</span><span class="p">))));</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">GridFSFile</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findAllFiles</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">gridFsTemplate</span><span class="p">.</span><span class="na">find</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Query</span><span class="p">()).</span><span class="na">into</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="using-gridfs-in-a-controller">Using GridFS in a Controller<a class="headerlink" href="#using-gridfs-in-a-controller" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@RestController</span>
<span class="nd">@RequestMapping</span><span class="p">(</span><span class="s">&quot;/api/files&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">FileController</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">FileStorageService</span><span class="w"> </span><span class="n">fileStorageService</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">FileController</span><span class="p">(</span><span class="n">FileStorageService</span><span class="w"> </span><span class="n">fileStorageService</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">fileStorageService</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fileStorageService</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@PostMapping</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">ResponseEntity</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">uploadFile</span><span class="p">(</span><span class="nd">@RequestParam</span><span class="p">(</span><span class="s">&quot;file&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">MultipartFile</span><span class="w"> </span><span class="n">file</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">fileId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fileStorageService</span><span class="p">.</span><span class="na">storeFile</span><span class="p">(</span>
<span class="w">                    </span><span class="n">file</span><span class="p">.</span><span class="na">getOriginalFilename</span><span class="p">(),</span>
<span class="w">                    </span><span class="n">file</span><span class="p">.</span><span class="na">getInputStream</span><span class="p">(),</span>
<span class="w">                    </span><span class="n">file</span><span class="p">.</span><span class="na">getContentType</span><span class="p">()</span>
<span class="w">            </span><span class="p">);</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">ResponseEntity</span><span class="p">.</span><span class="na">ok</span><span class="p">(</span><span class="n">fileId</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">IOException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">ResponseEntity</span><span class="p">.</span><span class="na">status</span><span class="p">(</span><span class="n">HttpStatus</span><span class="p">.</span><span class="na">INTERNAL_SERVER_ERROR</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@GetMapping</span><span class="p">(</span><span class="s">&quot;/{id}&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">ResponseEntity</span><span class="o">&lt;</span><span class="n">Resource</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">downloadFile</span><span class="p">(</span><span class="nd">@PathVariable</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">GridFsResource</span><span class="w"> </span><span class="n">resource</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fileStorageService</span><span class="p">.</span><span class="na">getResource</span><span class="p">(</span><span class="n">id</span><span class="p">);</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">resource</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">ResponseEntity</span><span class="p">.</span><span class="na">notFound</span><span class="p">().</span><span class="na">build</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ResponseEntity</span><span class="p">.</span><span class="na">ok</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">contentType</span><span class="p">(</span><span class="n">MediaType</span><span class="p">.</span><span class="na">parseMediaType</span><span class="p">(</span><span class="n">resource</span><span class="p">.</span><span class="na">getContentType</span><span class="p">()))</span>
<span class="w">                </span><span class="p">.</span><span class="na">header</span><span class="p">(</span><span class="n">HttpHeaders</span><span class="p">.</span><span class="na">CONTENT_DISPOSITION</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;attachment; filename=\&quot;&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">resource</span><span class="p">.</span><span class="na">getFilename</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;\&quot;&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">body</span><span class="p">(</span><span class="n">resource</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@DeleteMapping</span><span class="p">(</span><span class="s">&quot;/{id}&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">ResponseEntity</span><span class="o">&lt;</span><span class="n">Void</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">deleteFile</span><span class="p">(</span><span class="nd">@PathVariable</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">fileStorageService</span><span class="p">.</span><span class="na">deleteFile</span><span class="p">(</span><span class="n">id</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ResponseEntity</span><span class="p">.</span><span class="na">ok</span><span class="p">().</span><span class="na">build</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="change-streams">Change Streams<a class="headerlink" href="#change-streams" title="Permanent link">&para;</a></h2>
<p>MongoDB change streams allow applications to watch for changes in the database.</p>
<h3 id="simple-change-stream-example">Simple Change Stream Example<a class="headerlink" href="#simple-change-stream-example" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@Service</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ProductChangeListener</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">MongoTemplate</span><span class="w"> </span><span class="n">mongoTemplate</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">Logger</span><span class="w"> </span><span class="n">logger</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LoggerFactory</span><span class="p">.</span><span class="na">getLogger</span><span class="p">(</span><span class="n">ProductChangeListener</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">ProductChangeListener</span><span class="p">(</span><span class="n">MongoTemplate</span><span class="w"> </span><span class="n">mongoTemplate</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">mongoTemplate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mongoTemplate</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@PostConstruct</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">startListening</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Executors</span><span class="p">.</span><span class="na">newSingleThreadExecutor</span><span class="p">().</span><span class="na">submit</span><span class="p">(()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">ChangeStreamOptions</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ChangeStreamOptions</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                    </span><span class="p">.</span><span class="na">returnFullDocumentOnUpdate</span><span class="p">()</span>
<span class="w">                    </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>

<span class="w">            </span><span class="k">try</span><span class="w"> </span><span class="p">(</span><span class="n">MongoCursor</span><span class="o">&lt;</span><span class="n">ChangeStreamDocument</span><span class="o">&lt;</span><span class="n">Document</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">cursor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mongoTemplate</span>
<span class="w">                    </span><span class="p">.</span><span class="na">getCollection</span><span class="p">(</span><span class="s">&quot;products&quot;</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">watch</span><span class="p">()</span>
<span class="w">                    </span><span class="p">.</span><span class="na">fullDocument</span><span class="p">(</span><span class="n">FullDocument</span><span class="p">.</span><span class="na">UPDATE_LOOKUP</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">iterator</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>

<span class="w">                </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">cursor</span><span class="p">.</span><span class="na">hasNext</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">ChangeStreamDocument</span><span class="o">&lt;</span><span class="n">Document</span><span class="o">&gt;</span><span class="w"> </span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cursor</span><span class="p">.</span><span class="na">next</span><span class="p">();</span>
<span class="w">                    </span><span class="n">Document</span><span class="w"> </span><span class="n">fullDocument</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">next</span><span class="p">.</span><span class="na">getFullDocument</span><span class="p">();</span>

<span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">fullDocument</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="n">logger</span><span class="p">.</span><span class="na">info</span><span class="p">(</span><span class="s">&quot;Change detected: {}&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">fullDocument</span><span class="p">.</span><span class="na">toJson</span><span class="p">());</span>

<span class="w">                        </span><span class="c1">// Process the change</span>
<span class="w">                        </span><span class="n">OperationType</span><span class="w"> </span><span class="n">operationType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">next</span><span class="p">.</span><span class="na">getOperationType</span><span class="p">();</span>
<span class="w">                        </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">operationType</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                            </span><span class="k">case</span><span class="w"> </span><span class="n">INSERT</span><span class="p">:</span>
<span class="w">                                </span><span class="n">handleInsert</span><span class="p">(</span><span class="n">fullDocument</span><span class="p">);</span>
<span class="w">                                </span><span class="k">break</span><span class="p">;</span>
<span class="w">                            </span><span class="k">case</span><span class="w"> </span><span class="n">UPDATE</span><span class="p">:</span>
<span class="w">                                </span><span class="n">handleUpdate</span><span class="p">(</span><span class="n">fullDocument</span><span class="p">,</span><span class="w"> </span><span class="n">next</span><span class="p">.</span><span class="na">getUpdateDescription</span><span class="p">());</span>
<span class="w">                                </span><span class="k">break</span><span class="p">;</span>
<span class="w">                            </span><span class="k">case</span><span class="w"> </span><span class="n">DELETE</span><span class="p">:</span>
<span class="w">                                </span><span class="n">handleDelete</span><span class="p">(</span><span class="n">next</span><span class="p">.</span><span class="na">getDocumentKey</span><span class="p">());</span>
<span class="w">                                </span><span class="k">break</span><span class="p">;</span>
<span class="w">                        </span><span class="p">}</span>
<span class="w">                    </span><span class="p">}</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">handleInsert</span><span class="p">(</span><span class="n">Document</span><span class="w"> </span><span class="n">document</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Process insert</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">handleUpdate</span><span class="p">(</span><span class="n">Document</span><span class="w"> </span><span class="n">document</span><span class="p">,</span><span class="w"> </span><span class="n">UpdateDescription</span><span class="w"> </span><span class="n">updateDescription</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Process update</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">handleDelete</span><span class="p">(</span><span class="n">BsonDocument</span><span class="w"> </span><span class="n">documentKey</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Process delete</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="transactions">Transactions<a class="headerlink" href="#transactions" title="Permanent link">&para;</a></h2>
<p>MongoDB supports multi-document transactions (from version 4.0).</p>
<h3 id="transaction-example">Transaction Example<a class="headerlink" href="#transaction-example" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@Service</span>
<span class="nd">@RequiredArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">OrderService</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">MongoTemplate</span><span class="w"> </span><span class="n">mongoTemplate</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">MongoTransactionManager</span><span class="w"> </span><span class="n">transactionManager</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Order</span><span class="w"> </span><span class="nf">createOrder</span><span class="p">(</span><span class="n">OrderRequest</span><span class="w"> </span><span class="n">request</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">TransactionTemplate</span><span class="w"> </span><span class="n">transactionTemplate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">TransactionTemplate</span><span class="p">(</span><span class="n">transactionManager</span><span class="p">);</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">transactionTemplate</span><span class="p">.</span><span class="na">execute</span><span class="p">(</span><span class="n">status</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="c1">// Create order</span>
<span class="w">                </span><span class="n">Order</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Order</span><span class="p">();</span>
<span class="w">                </span><span class="n">order</span><span class="p">.</span><span class="na">setCustomerId</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="na">getCustomerId</span><span class="p">());</span>
<span class="w">                </span><span class="n">order</span><span class="p">.</span><span class="na">setOrderDate</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Date</span><span class="p">());</span>
<span class="w">                </span><span class="n">order</span><span class="p">.</span><span class="na">setStatus</span><span class="p">(</span><span class="n">OrderStatus</span><span class="p">.</span><span class="na">PENDING</span><span class="p">);</span>
<span class="w">                </span><span class="n">order</span><span class="p">.</span><span class="na">setItems</span><span class="p">(</span><span class="n">mapOrderItems</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="na">getItems</span><span class="p">()));</span>
<span class="w">                </span><span class="n">order</span><span class="p">.</span><span class="na">calculateTotal</span><span class="p">();</span>

<span class="w">                </span><span class="n">mongoTemplate</span><span class="p">.</span><span class="na">save</span><span class="p">(</span><span class="n">order</span><span class="p">);</span>

<span class="w">                </span><span class="c1">// Update inventory</span>
<span class="w">                </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">OrderItem</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">order</span><span class="p">.</span><span class="na">getItems</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">Query</span><span class="w"> </span><span class="n">query</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Query</span><span class="p">(</span><span class="n">Criteria</span><span class="p">.</span><span class="na">where</span><span class="p">(</span><span class="s">&quot;_id&quot;</span><span class="p">).</span><span class="na">is</span><span class="p">(</span><span class="n">item</span><span class="p">.</span><span class="na">getProductId</span><span class="p">()));</span>
<span class="w">                    </span><span class="n">Update</span><span class="w"> </span><span class="n">update</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Update</span><span class="p">().</span><span class="na">inc</span><span class="p">(</span><span class="s">&quot;stockQuantity&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="n">item</span><span class="p">.</span><span class="na">getQuantity</span><span class="p">());</span>
<span class="w">                    </span><span class="n">UpdateResult</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mongoTemplate</span><span class="p">.</span><span class="na">updateFirst</span><span class="p">(</span><span class="n">query</span><span class="p">,</span><span class="w"> </span><span class="n">update</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;products&quot;</span><span class="p">);</span>

<span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="na">getModifiedCount</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">RuntimeException</span><span class="p">(</span><span class="s">&quot;Product not found or insufficient stock&quot;</span><span class="p">);</span>
<span class="w">                    </span><span class="p">}</span>
<span class="w">                </span><span class="p">}</span>

<span class="w">                </span><span class="c1">// Create payment record</span>
<span class="w">                </span><span class="n">Payment</span><span class="w"> </span><span class="n">payment</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Payment</span><span class="p">();</span>
<span class="w">                </span><span class="n">payment</span><span class="p">.</span><span class="na">setOrderId</span><span class="p">(</span><span class="n">order</span><span class="p">.</span><span class="na">getId</span><span class="p">());</span>
<span class="w">                </span><span class="n">payment</span><span class="p">.</span><span class="na">setAmount</span><span class="p">(</span><span class="n">order</span><span class="p">.</span><span class="na">getTotal</span><span class="p">());</span>
<span class="w">                </span><span class="n">payment</span><span class="p">.</span><span class="na">setStatus</span><span class="p">(</span><span class="n">PaymentStatus</span><span class="p">.</span><span class="na">PENDING</span><span class="p">);</span>

<span class="w">                </span><span class="n">mongoTemplate</span><span class="p">.</span><span class="na">save</span><span class="p">(</span><span class="n">payment</span><span class="p">);</span>

<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">order</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">status</span><span class="p">.</span><span class="na">setRollbackOnly</span><span class="p">();</span>
<span class="w">                </span><span class="k">throw</span><span class="w"> </span><span class="n">e</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">OrderItem</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">mapOrderItems</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">OrderItemRequest</span><span class="o">&gt;</span><span class="w"> </span><span class="n">items</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Map order items from request</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">items</span><span class="p">.</span><span class="na">stream</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">map</span><span class="p">(</span><span class="n">item</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">OrderItem</span><span class="w"> </span><span class="n">orderItem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">OrderItem</span><span class="p">();</span>
<span class="w">                    </span><span class="n">orderItem</span><span class="p">.</span><span class="na">setProductId</span><span class="p">(</span><span class="n">item</span><span class="p">.</span><span class="na">getProductId</span><span class="p">());</span>
<span class="w">                    </span><span class="n">orderItem</span><span class="p">.</span><span class="na">setQuantity</span><span class="p">(</span><span class="n">item</span><span class="p">.</span><span class="na">getQuantity</span><span class="p">());</span>

<span class="w">                    </span><span class="c1">// Get product details</span>
<span class="w">                    </span><span class="n">Product</span><span class="w"> </span><span class="n">product</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mongoTemplate</span><span class="p">.</span><span class="na">findById</span><span class="p">(</span><span class="n">item</span><span class="p">.</span><span class="na">getProductId</span><span class="p">(),</span><span class="w"> </span><span class="n">Product</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="w">                    </span><span class="n">orderItem</span><span class="p">.</span><span class="na">setProductName</span><span class="p">(</span><span class="n">product</span><span class="p">.</span><span class="na">getName</span><span class="p">());</span>
<span class="w">                    </span><span class="n">orderItem</span><span class="p">.</span><span class="na">setPrice</span><span class="p">(</span><span class="n">product</span><span class="p">.</span><span class="na">getPrice</span><span class="p">());</span>

<span class="w">                    </span><span class="k">return</span><span class="w"> </span><span class="n">orderItem</span><span class="p">;</span>
<span class="w">                </span><span class="p">})</span>
<span class="w">                </span><span class="p">.</span><span class="na">collect</span><span class="p">(</span><span class="n">Collectors</span><span class="p">.</span><span class="na">toList</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="testing-spring-data-mongodb">Testing Spring Data MongoDB<a class="headerlink" href="#testing-spring-data-mongodb" title="Permanent link">&para;</a></h2>
<p>Testing MongoDB repositories with embedded MongoDB.</p>
<h3 id="maven-dependencies_1">Maven Dependencies<a class="headerlink" href="#maven-dependencies_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;dependency&gt;</span>
<span class="w">    </span><span class="nt">&lt;groupId&gt;</span>de.flapdoodle.embed<span class="nt">&lt;/groupId&gt;</span>
<span class="w">    </span><span class="nt">&lt;artifactId&gt;</span>de.flapdoodle.embed.mongo<span class="nt">&lt;/artifactId&gt;</span>
<span class="w">    </span><span class="nt">&lt;scope&gt;</span>test<span class="nt">&lt;/scope&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</code></pre></div>
<h3 id="repository-test">Repository Test<a class="headerlink" href="#repository-test" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@DataMongoTest</span>
<span class="kd">class</span> <span class="nc">ProductRepositoryTest</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Autowired</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">ProductRepository</span><span class="w"> </span><span class="n">productRepository</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@BeforeEach</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">productRepository</span><span class="p">.</span><span class="na">deleteAll</span><span class="p">();</span>

<span class="w">        </span><span class="c1">// Create test data</span>
<span class="w">        </span><span class="n">Product</span><span class="w"> </span><span class="n">product1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Product</span><span class="p">();</span>
<span class="w">        </span><span class="n">product1</span><span class="p">.</span><span class="na">setName</span><span class="p">(</span><span class="s">&quot;Test Product 1&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">product1</span><span class="p">.</span><span class="na">setPrice</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">(</span><span class="s">&quot;19.99&quot;</span><span class="p">));</span>
<span class="w">        </span><span class="n">product1</span><span class="p">.</span><span class="na">setInStock</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>

<span class="w">        </span><span class="n">Product</span><span class="w"> </span><span class="n">product2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Product</span><span class="p">();</span>
<span class="w">        </span><span class="n">product2</span><span class="p">.</span><span class="na">setName</span><span class="p">(</span><span class="s">&quot;Test Product 2&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">product2</span><span class="p">.</span><span class="na">setPrice</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">(</span><span class="s">&quot;29.99&quot;</span><span class="p">));</span>
<span class="w">        </span><span class="n">product2</span><span class="p">.</span><span class="na">setInStock</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>

<span class="w">        </span><span class="n">productRepository</span><span class="p">.</span><span class="na">saveAll</span><span class="p">(</span><span class="n">List</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">product1</span><span class="p">,</span><span class="w"> </span><span class="n">product2</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Test</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">findByName_ShouldReturnProduct</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">productRepository</span><span class="p">.</span><span class="na">findByName</span><span class="p">(</span><span class="s">&quot;Test Product 1&quot;</span><span class="p">);</span>

<span class="w">        </span><span class="n">assertThat</span><span class="p">(</span><span class="n">products</span><span class="p">).</span><span class="na">hasSize</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="w">        </span><span class="n">assertThat</span><span class="p">(</span><span class="n">products</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="na">getName</span><span class="p">()).</span><span class="na">isEqualTo</span><span class="p">(</span><span class="s">&quot;Test Product 1&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Test</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">findByInStockTrue_ShouldReturnInStockProducts</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">productRepository</span><span class="p">.</span><span class="na">findByInStockTrue</span><span class="p">();</span>

<span class="w">        </span><span class="n">assertThat</span><span class="p">(</span><span class="n">products</span><span class="p">).</span><span class="na">hasSize</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="w">        </span><span class="n">assertThat</span><span class="p">(</span><span class="n">products</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="na">isInStock</span><span class="p">()).</span><span class="na">isTrue</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Test</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">findByPriceGreaterThan_ShouldReturnExpensiveProducts</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">productRepository</span><span class="p">.</span><span class="na">findByPriceGreaterThan</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">(</span><span class="s">&quot;20.00&quot;</span><span class="p">));</span>

<span class="w">        </span><span class="n">assertThat</span><span class="p">(</span><span class="n">products</span><span class="p">).</span><span class="na">hasSize</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="w">        </span><span class="n">assertThat</span><span class="p">(</span><span class="n">products</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="na">getName</span><span class="p">()).</span><span class="na">isEqualTo</span><span class="p">(</span><span class="s">&quot;Test Product 2&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="mongotemplate-test">MongoTemplate Test<a class="headerlink" href="#mongotemplate-test" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@SpringBootTest</span>
<span class="kd">class</span> <span class="nc">ProductServiceTest</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Autowired</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">MongoTemplate</span><span class="w"> </span><span class="n">mongoTemplate</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Autowired</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">ProductService</span><span class="w"> </span><span class="n">productService</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@BeforeEach</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">mongoTemplate</span><span class="p">.</span><span class="na">dropCollection</span><span class="p">(</span><span class="n">Product</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// Create test data</span>
<span class="w">        </span><span class="n">Product</span><span class="w"> </span><span class="n">product1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Product</span><span class="p">();</span>
<span class="w">        </span><span class="n">product1</span><span class="p">.</span><span class="na">setName</span><span class="p">(</span><span class="s">&quot;Test Product 1&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">product1</span><span class="p">.</span><span class="na">setPrice</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">(</span><span class="s">&quot;19.99&quot;</span><span class="p">));</span>
<span class="w">        </span><span class="n">product1</span><span class="p">.</span><span class="na">setInStock</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>

<span class="w">        </span><span class="n">Product</span><span class="w"> </span><span class="n">product2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Product</span><span class="p">();</span>
<span class="w">        </span><span class="n">product2</span><span class="p">.</span><span class="na">setName</span><span class="p">(</span><span class="s">&quot;Test Product 2&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">product2</span><span class="p">.</span><span class="na">setPrice</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">(</span><span class="s">&quot;29.99&quot;</span><span class="p">));</span>
<span class="w">        </span><span class="n">product2</span><span class="p">.</span><span class="na">setInStock</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>

<span class="w">        </span><span class="n">mongoTemplate</span><span class="p">.</span><span class="na">insertAll</span><span class="p">(</span><span class="n">List</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">product1</span><span class="p">,</span><span class="w"> </span><span class="n">product2</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Test</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">searchProducts_ShouldReturnMatchingProducts</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">productService</span><span class="p">.</span><span class="na">searchProducts</span><span class="p">(</span>
<span class="w">                </span><span class="s">&quot;Test&quot;</span><span class="p">,</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">(</span><span class="s">&quot;25.00&quot;</span><span class="p">),</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> </span><span class="kc">null</span><span class="p">);</span>

<span class="w">        </span><span class="n">assertThat</span><span class="p">(</span><span class="n">products</span><span class="p">).</span><span class="na">hasSize</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="w">        </span><span class="n">assertThat</span><span class="p">(</span><span class="n">products</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="na">getName</span><span class="p">()).</span><span class="na">isEqualTo</span><span class="p">(</span><span class="s">&quot;Test Product 2&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Test</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">updateProductStock_ShouldChangeStockStatus</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Product</span><span class="w"> </span><span class="n">product</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mongoTemplate</span><span class="p">.</span><span class="na">findOne</span><span class="p">(</span>
<span class="w">                </span><span class="n">Query</span><span class="p">.</span><span class="na">query</span><span class="p">(</span><span class="n">Criteria</span><span class="p">.</span><span class="na">where</span><span class="p">(</span><span class="s">&quot;name&quot;</span><span class="p">).</span><span class="na">is</span><span class="p">(</span><span class="s">&quot;Test Product 1&quot;</span><span class="p">)),</span><span class="w"> </span>
<span class="w">                </span><span class="n">Product</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>

<span class="w">        </span><span class="n">productService</span><span class="p">.</span><span class="na">updateProductStock</span><span class="p">(</span><span class="n">product</span><span class="p">.</span><span class="na">getId</span><span class="p">(),</span><span class="w"> </span><span class="kc">false</span><span class="p">);</span>

<span class="w">        </span><span class="n">Product</span><span class="w"> </span><span class="n">updatedProduct</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mongoTemplate</span><span class="p">.</span><span class="na">findById</span><span class="p">(</span><span class="n">product</span><span class="p">.</span><span class="na">getId</span><span class="p">(),</span><span class="w"> </span><span class="n">Product</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="w">        </span><span class="n">assertThat</span><span class="p">(</span><span class="n">updatedProduct</span><span class="p">.</span><span class="na">isInStock</span><span class="p">()).</span><span class="na">isFalse</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="test-with-testcontainers">Test with TestContainers<a class="headerlink" href="#test-with-testcontainers" title="Permanent link">&para;</a></h3>
<p>For testing with a real MongoDB instance:</p>
<div class="highlight"><pre><span></span><code><span class="nd">@SpringBootTest</span>
<span class="nd">@Testcontainers</span>
<span class="kd">class</span> <span class="nc">ProductServiceIntegrationTest</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Container</span>
<span class="w">    </span><span class="kd">static</span><span class="w"> </span><span class="n">MongoDBContainer</span><span class="w"> </span><span class="n">mongoDBContainer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">MongoDBContainer</span><span class="p">(</span><span class="s">&quot;mongo:4.4.6&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="nd">@DynamicPropertySource</span>
<span class="w">    </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setProperties</span><span class="p">(</span><span class="n">DynamicPropertyRegistry</span><span class="w"> </span><span class="n">registry</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">registry</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;spring.data.mongodb.uri&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">mongoDBContainer</span><span class="p">::</span><span class="n">getReplicaSetUrl</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Autowired</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">MongoTemplate</span><span class="w"> </span><span class="n">mongoTemplate</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Autowired</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">ProductService</span><span class="w"> </span><span class="n">productService</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// Test methods</span>
<span class="p">}</span>
</code></pre></div>





                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2025 Muhammed Shemeel
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/mshemeel" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://linkedin.com/in/mshemeel" target="_blank" rel="noopener" title="linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.sections", "navigation.expand", "navigation.indexes", "navigation.top", "search.suggest", "search.highlight"], "search": "../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.aecac24b.min.js"></script>
      
    
  </body>
</html>